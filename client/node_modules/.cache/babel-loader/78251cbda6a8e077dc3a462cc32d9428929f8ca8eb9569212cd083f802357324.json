{"ast":null,"code":"var _jsxFileName = \"/home/sk/Documents/quiz-app/client/src/pages/Tests.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport components from \"./components\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  DataTableManagement,\n  handleApiCall,\n  Modal,\n  createFormModal\n} = components;\nconst Tests = () => {\n  _s();\n  const userLogged = JSON.parse(sessionStorage.getItem(\"userLogged\"));\n  if (userLogged.flag) {\n    if (userLogged.userType !== \"Admin\") {\n      window.location.href = \"/\";\n    }\n  }\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalOptions, setModalOptions] = useState();\n  const setTime = async () => {\n    const createInputField = (column, value = \"\") => {\n      const inputField = document.createElement(\"input\");\n      inputField.className = column;\n      inputField.placeholder = column;\n      inputField.value = value;\n      inputField.type = \"number\";\n      return inputField;\n    };\n    const columns = [\"Hours\", \"Minutes\", \"Seconds\"];\n    let contentElements = [];\n    try {\n      const response = await handleApiCall({\n        API: \"find-data\",\n        data: {\n          collection: \"Tests\",\n          condition: {\n            key: \"title\",\n            value: \"Time\"\n          }\n        }\n      });\n      contentElements = columns.map(column => createInputField(column, response.flag ? response.data.data[column] : \"\"));\n    } catch (error) {\n      console.error(error.message);\n      contentElements = columns.map(column => createInputField(column));\n    }\n    const saveCallback = closeModal => async () => {\n      let data = {\n        title: \"Time\"\n      };\n      contentElements.forEach(field => data[field.className] = parseInt(field.value, 10) || 0);\n      try {\n        const response = await handleApiCall({\n          API: \"update-data\",\n          data: {\n            condition: {\n              title: \"Time\"\n            },\n            data,\n            collection: \"Tests\"\n          }\n        });\n        if (response.flag) {\n          showModal(\"Info\", \"Time Updated Successfully!\", [\"Ok\"], () => setIsModalOpen(false));\n          closeModal();\n        } else {\n          throw new Error(\"Update failed\");\n        }\n      } catch (error) {\n        try {\n          const response = await handleApiCall({\n            API: \"insert-data\",\n            data: {\n              data,\n              collection: \"Tests\"\n            }\n          });\n          showModal(response.flag ? \"Info\" : \"Error\", response.flag ? \"Time Added Successfully!\" : \"Error Saving Time Data\", [\"Ok\"], () => setIsModalOpen(false));\n          closeModal();\n        } catch (error) {\n          console.error(error);\n          showModal(\"Uncaught Error\", \"Error Saving Time Data\", [\"Ok\"], () => setIsModalOpen(false));\n          closeModal();\n        }\n      }\n    };\n    createFormModal({\n      headingText: \"Set Time\",\n      elements: contentElements,\n      saveCallback: saveCallback\n    });\n  };\n  const showModal = (type, message, buttons, responseFunc) => {\n    setModalOptions({\n      type,\n      message,\n      buttons,\n      responseFunc\n    });\n    setIsModalOpen(true);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DataTableManagement, {\n      tablePageName: \"Test\",\n      collectionName: \"Tests\",\n      API: \"Upload-question\",\n      actionButtons: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: setTime,\n        children: \"Set Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      modalType: modalOptions.type || \"Info\",\n      modalMessage: modalOptions.message || \"An unexpected issue occurred.\",\n      buttons: modalOptions.buttons || [\"Ok\"],\n      response: modalOptions.responseFunc || (() => setIsModalOpen(false))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Tests, \"Oced2ulObc1Bnh1x5YWdfyy0Ar8=\");\n_c = Tests;\nexport default Tests;\nvar _c;\n$RefreshReg$(_c, \"Tests\");","map":{"version":3,"names":["useState","components","jsxDEV","_jsxDEV","Fragment","_Fragment","DataTableManagement","handleApiCall","Modal","createFormModal","Tests","_s","userLogged","JSON","parse","sessionStorage","getItem","flag","userType","window","location","href","isModalOpen","setIsModalOpen","modalOptions","setModalOptions","setTime","createInputField","column","value","inputField","document","createElement","className","placeholder","type","columns","contentElements","response","API","data","collection","condition","key","map","error","console","message","saveCallback","closeModal","title","forEach","field","parseInt","showModal","Error","headingText","elements","buttons","responseFunc","children","tablePageName","collectionName","actionButtons","onClick","fileName","_jsxFileName","lineNumber","columnNumber","modalType","modalMessage","_c","$RefreshReg$"],"sources":["/home/sk/Documents/quiz-app/client/src/pages/Tests.js"],"sourcesContent":["import { useState } from \"react\";\nimport components from \"./components\";\nconst {\n  DataTableManagement,\n  handleApiCall,\n  Modal,\n  createFormModal,\n} = components;\n\nconst Tests = () => {\n  const userLogged = JSON.parse(sessionStorage.getItem(\"userLogged\"));\n  if (userLogged.flag) {\n    if (userLogged.userType !== \"Admin\") {\n      window.location.href = \"/\";\n    }\n  }\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalOptions, setModalOptions] = useState();\n\n  const setTime = async () => {\n    const createInputField = (column, value = \"\") => {\n      const inputField = document.createElement(\"input\");\n      inputField.className = column;\n      inputField.placeholder = column;\n      inputField.value = value;\n      inputField.type = \"number\";\n      return inputField;\n    };\n    const columns = [\"Hours\", \"Minutes\", \"Seconds\"];\n    let contentElements = [];\n    try {\n      const response = await handleApiCall({\n        API: \"find-data\",\n        data: {\n          collection: \"Tests\",\n          condition: { key: \"title\", value: \"Time\" },\n        },\n      });\n\n      contentElements = columns.map((column) =>\n        createInputField(\n          column,\n          response.flag ? response.data.data[column] : \"\"\n        )\n      );\n    } catch (error) {\n      console.error(error.message);\n      contentElements = columns.map((column) => createInputField(column));\n    }\n\n    const saveCallback = (closeModal) => async () => {\n      let data = { title: \"Time\" };\n      contentElements.forEach(\n        (field) => (data[field.className] = parseInt(field.value, 10) || 0)\n      );\n\n      try {\n        const response = await handleApiCall({\n          API: \"update-data\",\n          data: { condition: { title: \"Time\" }, data, collection: \"Tests\" },\n        });\n        if (response.flag) {\n          showModal(\"Info\", \"Time Updated Successfully!\", [\"Ok\"], () =>\n            setIsModalOpen(false)\n          );\n          closeModal();\n        } else {\n          throw new Error(\"Update failed\");\n        }\n      } catch (error) {\n        try {\n          const response = await handleApiCall({\n            API: \"insert-data\",\n            data: { data, collection: \"Tests\" },\n          });\n          showModal(\n            response.flag ? \"Info\" : \"Error\",\n            response.flag\n              ? \"Time Added Successfully!\"\n              : \"Error Saving Time Data\",\n            [\"Ok\"],\n            () => setIsModalOpen(false)\n          );\n          closeModal();\n        } catch (error) {\n          console.error(error);\n          showModal(\"Uncaught Error\", \"Error Saving Time Data\", [\"Ok\"], () =>\n            setIsModalOpen(false)\n          );\n          closeModal();\n        }\n      }\n    };\n\n    createFormModal({\n      headingText: \"Set Time\",\n      elements: contentElements,\n      saveCallback: saveCallback,\n    });\n  };\n\n  const showModal = (type, message, buttons, responseFunc) => {\n    setModalOptions({ type, message, buttons, responseFunc });\n    setIsModalOpen(true);\n  };\n  return (\n    <>\n      <DataTableManagement\n        tablePageName={\"Test\"}\n        collectionName={\"Tests\"}\n        API={\"Upload-question\"}\n        actionButtons={\n          <button type=\"button\" onClick={setTime}>\n            Set Time\n          </button>\n        }\n      />\n      {isModalOpen && (\n        <Modal\n          modalType={modalOptions.type || \"Info\"}\n          modalMessage={modalOptions.message || \"An unexpected issue occurred.\"}\n          buttons={modalOptions.buttons || [\"Ok\"]}\n          response={modalOptions.responseFunc || (() => setIsModalOpen(false))}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Tests;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}