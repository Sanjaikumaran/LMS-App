{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"../styles/Signin.css\";import components from\"./components\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{Navbar,Modal,response,MessageBox,handleApiCall}=components;const Signin=()=>{const[isModalOpen,setIsModalOpen]=useState(false);const[responseMessage,setResponseMessage]=useState(null);const[userID,setUserID]=useState(\"\");const[userPassword,setUserPassword]=useState(\"\");const navigate=useNavigate();const handleLogin=async()=>{const trimmedUserID=userID.trim();const trimmedPassword=userPassword.trim();if(!trimmedUserID||!trimmedPassword){if(!trimmedUserID&&!trimmedPassword){setResponseMessage(\"Please Enter UserId & Password\");}else if(!trimmedUserID){setResponseMessage(\"Please Enter UserId\");}else{setResponseMessage(\"Please Enter Password\");}}else{try{const response=await handleApiCall({API:\"login\",data:{Id:trimmedUserID,userPass:trimmedPassword}});if(response&&response.flag){localStorage.setItem(\"userData\",JSON.stringify(response.data));setResponseMessage(\"\");setIsModalOpen(true);}else{setResponseMessage(response.error);}}catch(error){setResponseMessage(\"An error occurred. Please try again.\");console.error(\"Login error:\",error);}}};const closeModal=button=>{if(response([\"Ok\"],button)){navigate(\"/instructions\");setIsModalOpen(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{page:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login-header\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"institution-name\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Jeppiaar University\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user-id\",children:\"User ID\"}),/*#__PURE__*/_jsx(\"input\",{id:\"user-id\",name:\"user-id\",type:\"text\",value:userID,required:true,onChange:e=>setUserID(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",value:userPassword,required:true,onChange:e=>setUserPassword(e.target.value)})]}),responseMessage&&/*#__PURE__*/_jsx(MessageBox,{message:responseMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleLogin,children:\"Login\"})]})]}),isModalOpen&&/*#__PURE__*/_jsx(Modal,{modalType:\"Info\",modalMessage:\"Login Successful!\",buttons:[\"Ok\"],response:closeModal})]});};export default Signin;","map":{"version":3,"names":["React","useState","useNavigate","components","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","Modal","response","MessageBox","handleApiCall","Signin","isModalOpen","setIsModalOpen","responseMessage","setResponseMessage","userID","setUserID","userPassword","setUserPassword","navigate","handleLogin","trimmedUserID","trim","trimmedPassword","API","data","Id","userPass","flag","localStorage","setItem","JSON","stringify","error","console","closeModal","button","children","page","className","htmlFor","id","name","type","value","required","onChange","e","target","message","onClick","modalType","modalMessage","buttons"],"sources":["/home/sk/Documents/quiz-app/client/src/pages/Signin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/Signin.css\";\nimport components from \"./components\";\nconst { Navbar, Modal, response, MessageBox, handleApiCall } = components;\n\nconst Signin = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [responseMessage, setResponseMessage] = useState(null);\n  const [userID, setUserID] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    const trimmedUserID = userID.trim();\n    const trimmedPassword = userPassword.trim();\n\n    if (!trimmedUserID || !trimmedPassword) {\n      if (!trimmedUserID && !trimmedPassword) {\n        setResponseMessage(\"Please Enter UserId & Password\");\n      } else if (!trimmedUserID) {\n        setResponseMessage(\"Please Enter UserId\");\n      } else {\n        setResponseMessage(\"Please Enter Password\");\n      }\n    } else {\n      try {\n        const response = await handleApiCall({\n          API: \"login\",\n          data: { Id: trimmedUserID, userPass: trimmedPassword },\n        });\n\n        if (response && response.flag) {\n          localStorage.setItem(\"userData\", JSON.stringify(response.data));\n          setResponseMessage(\"\");\n          setIsModalOpen(true);\n        } else {\n          setResponseMessage(response.error);\n        }\n      } catch (error) {\n        setResponseMessage(\"An error occurred. Please try again.\");\n        console.error(\"Login error:\", error);\n      }\n    }\n  };\n\n  const closeModal = (button) => {\n    if (response([\"Ok\"], button)) {\n      navigate(\"/instructions\");\n      setIsModalOpen(false);\n    }\n  };\n\n  return (\n    <>\n      <Navbar page={true} />\n\n      <div className=\"login-container\">\n        <h1 className=\"login-header\">Login</h1>\n        <div className=\"login-form\">\n          <div className=\"institution-name\">\n            <h1>Jeppiaar University</h1>\n          </div>\n\n          <div className=\"input-group\">\n            <label htmlFor=\"user-id\">User ID</label>\n            <input\n              id=\"user-id\"\n              name=\"user-id\"\n              type=\"text\"\n              value={userID}\n              required\n              onChange={(e) => setUserID(e.target.value)}\n            />\n          </div>\n          <div className=\"input-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              value={userPassword}\n              required\n              onChange={(e) => setUserPassword(e.target.value)}\n            />\n          </div>\n          {responseMessage && <MessageBox message={responseMessage} />}\n          <button type=\"button\" onClick={handleLogin}>\n            Login\n          </button>\n        </div>\n      </div>\n\n      {isModalOpen && (\n        <Modal\n          modalType=\"Info\"\n          modalMessage=\"Login Successful!\"\n          buttons={[\"Ok\"]}\n          response={closeModal}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Signin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}